import pandas as pd
from datetime import Timestamp
# Sample data fetched from Yahoo Finance on March 25 2021
d = {Timestamp('2020-06-30 00:00:00'): {'Research Development': 19269000000.0, 'Effect Of Accounting Charges': None, 'Income Before Tax': 53036000000.0, 'Minority Interest': None, 'Net Income': 44281000000.0, 'Selling General Administrative': 24709000000.0, 'Gross Profit': 96937000000.0, 'Ebit': 52959000000.0, 'Operating Income': 52959000000.0, 'Other Operating Expenses': None, 'Interest Expense': -2591000000.0, 'Extraordinary Items': None, 'Non Recurring': None, 'Other Items': None, 'Income Tax Expense': 8755000000.0, 'Total Revenue': 143015000000.0, 'Total Operating Expenses': 90056000000.0, 'Cost Of Revenue': 46078000000.0, 'Total Other Income Expense Net': 77000000.0, 'Discontinued Operations': None, 'Net Income From Continuing Ops': 44281000000.0, 'Net Income Applicable To Common Shares': 44281000000.0},
     Timestamp('2019-06-30 00:00:00'): {'Research Development': 16876000000.0, 'Effect Of Accounting Charges': None, 'Income Before Tax': 43688000000.0, 'Minority Interest': None, 'Net Income': 39240000000.0, 'Selling General Administrative': 23098000000.0, 'Gross Profit': 82933000000.0, 'Ebit': 42959000000.0, 'Operating Income': 42959000000.0, 'Other Operating Expenses': None, 'Interest Expense': -2686000000.0, 'Extraordinary Items': None, 'Non Recurring': None, 'Other Items': None, 'Income Tax Expense': 4448000000.0, 'Total Revenue': 125843000000.0, 'Total Operating Expenses': 82884000000.0, 'Cost Of Revenue': 42910000000.0, 'Total Other Income Expense Net': 729000000.0, 'Discontinued Operations': None, 'Net Income From Continuing Ops': 39240000000.0, 'Net Income Applicable To Common Shares': 39240000000.0},
     Timestamp('2018-06-30 00:00:00'): {'Research Development': 14726000000.0, 'Effect Of Accounting Charges': None, 'Income Before Tax': 36474000000.0, 'Minority Interest': None, 'Net Income': 16571000000.0, 'Selling General Administrative': 22223000000.0, 'Gross Profit': 72007000000.0, 'Ebit': 35058000000.0, 'Operating Income': 35058000000.0, 'Other Operating Expenses': None, 'Interest Expense': -2733000000.0, 'Extraordinary Items': None, 'Non Recurring': None, 'Other Items': None, 'Income Tax Expense': 19903000000.0, 'Total Revenue': 110360000000.0, 'Total Operating Expenses': 75302000000.0, 'Cost Of Revenue': 38353000000.0, 'Total Other Income Expense Net': 1416000000.0, 'Discontinued Operations': None, 'Net Income From Continuing Ops': 16571000000.0, 'Net Income Applicable To Common Shares': 16571000000.0},
     Timestamp('2017-06-30 00:00:00'): {'Research Development': 13037000000.0, 'Effect Of Accounting Charges': None, 'Income Before Tax': 29901000000.0, 'Minority Interest': None, 'Net Income': 25489000000.0, 'Selling General Administrative': 19942000000.0, 'Gross Profit': 62310000000.0, 'Ebit': 29331000000.0, 'Operating Income': 29331000000.0, 'Other Operating Expenses': None, 'Interest Expense': -2222000000.0, 'Extraordinary Items': None, 'Non Recurring': None, 'Other Items': None, 'Income Tax Expense': 4412000000.0, 'Total Revenue': 96571000000.0, 'Total Operating Expenses': 67240000000.0, 'Cost Of Revenue': 34261000000.0, 'Total Other Income Expense Net': 570000000.0, 'Discontinued Operations': None, 'Net Income From Continuing Ops': 25489000000.0, 'Net Income Applicable To Common Shares': 25489000000.0}}
# Create dataframe from dictionary
df = pd.DataFrame(data=d)
# Replace numpy nans with Nonetype objects as this is what yfinance does
# msft is now a proper bit of sample data for get_financials
msft = df.where(df.notnull(), None)

# Quarterly data
qd = {Timestamp('2020-12-31 00:00:00'): {'Research Development': 4899000000.0, 'Effect Of Accounting Charges': None, 'Income Before Tax': 18337000000.0, 'Minority Interest': None, 'Net Income': 15463000000.0, 'Selling General Administrative': 6086000000.0, 'Gross Profit': 28882000000.0, 'Ebit': 17897000000.0, 'Operating Income': 17897000000.0, 'Other Operating Expenses': None, 'Interest Expense': -568000000.0, 'Extraordinary Items': None, 'Non Recurring': None, 'Other Items': None, 'Income Tax Expense': 2874000000.0, 'Total Revenue': 43076000000.0, 'Total Operating Expenses': 25179000000.0, 'Cost Of Revenue': 14194000000.0, 'Total Other Income Expense Net': 440000000.0, 'Discontinued Operations': None, 'Net Income From Continuing Ops': 15463000000.0, 'Net Income Applicable To Common Shares': 15463000000.0},
      Timestamp('2020-09-30 00:00:00'): {'Research Development': 4926000000.0, 'Effect Of Accounting Charges': None, 'Income Before Tax': 16124000000.0, 'Minority Interest': None, 'Net Income': 13893000000.0, 'Selling General Administrative': 5350000000.0, 'Gross Profit': 26152000000.0, 'Ebit': 15876000000.0, 'Operating Income': 15876000000.0, 'Other Operating Expenses': None, 'Interest Expense': -585000000.0, 'Extraordinary Items': None, 'Non Recurring': None, 'Other Items': None, 'Income Tax Expense': 2231000000.0, 'Total Revenue': 37154000000.0, 'Total Operating Expenses': 21278000000.0, 'Cost Of Revenue': 11002000000.0, 'Total Other Income Expense Net': 248000000.0, 'Discontinued Operations': None, 'Net Income From Continuing Ops': 13893000000.0, 'Net Income Applicable To Common Shares': 13893000000.0},
      Timestamp('2020-06-30 00:00:00'): {'Research Development': 5214000000.0, 'Effect Of Accounting Charges': None, 'Income Before Tax': 13422000000.0, 'Minority Interest': None, 'Net Income': 11202000000.0, 'Selling General Administrative': 7073000000.0, 'Gross Profit': 25694000000.0, 'Ebit': 13407000000.0, 'Operating Income': 13407000000.0, 'Other Operating Expenses': None, 'Interest Expense': -684000000.0, 'Extraordinary Items': None, 'Non Recurring': None, 'Other Items': None, 'Income Tax Expense': 2220000000.0, 'Total Revenue': 38033000000.0, 'Total Operating Expenses': 24626000000.0, 'Cost Of Revenue': 12339000000.0, 'Total Other Income Expense Net': 15000000.0, 'Discontinued Operations': None, 'Net Income From Continuing Ops': 11202000000.0, 'Net Income Applicable To Common Shares': 11202000000.0},
      Timestamp('2020-03-31 00:00:00'): {'Research Development': 4887000000.0, 'Effect Of Accounting Charges': None, 'Income Before Tax': 12843000000.0, 'Minority Interest': None, 'Net Income': 10752000000.0, 'Selling General Administrative': 6184000000.0, 'Gross Profit': 24046000000.0, 'Ebit': 12975000000.0, 'Operating Income': 12975000000.0, 'Other Operating Expenses': None, 'Interest Expense': -615000000.0, 'Extraordinary Items': None, 'Non Recurring': None, 'Other Items': None, 'Income Tax Expense': 2091000000.0, 'Total Revenue': 35021000000.0, 'Total Operating Expenses': 22046000000.0, 'Cost Of Revenue': 10975000000.0, 'Total Other Income Expense Net': -132000000.0, 'Discontinued Operations': None, 'Net Income From Continuing Ops': 10752000000.0, 'Net Income Applicable To Common Shares': 10752000000.0}}
qdf = pd.DataFrame(data=qd)
msft_quarterly = qdf.where(df.notnull(), None)
